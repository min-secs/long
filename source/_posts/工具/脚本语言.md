---
title: 脚本语言
date: 2021-02-25 08:35:05
tags: 
categories: 工具


---

# ***\*访问数据库\****

cd  /data/user_de/0/com.android.providers.media/databases

cd /data/data/com.android.providers.media/databases

ls

sqlite3 external.db 进入数据库

.tables //列出所有表

 .mode column  显示的列会对齐

.header on //显示列名

 select * from 表

# ** ***\*Vim\****

* 查看

vi xx.sh +22 //跳到指定行

* 删除

当前行 dd

全选ggvG 按d删除

* 创建文件

touch + xx.tt

* 查找

/xx  查找某字符, n 向下找

* 替换

:s/from/to/  替换当前行第一个

:s/from/to/g  替换当前行所有

* Mk转bp

out/soong/host/linux-x86/bin

如果没有androidmk  使用m -j blueprint_tools

androidmk  android.mk > android.bp

* 查找

  find prebuilts/sdk/ -name Android.bp|xargs grep "name.*androidx" 

# **** ***\*Shell\****

#### **查看**cpu信息

![img](file:///C:\Users\admin\AppData\Local\Temp\ksohtml30816\wps2.jpg) 

adb shell

cat /proc/cpuinfo  AArch64对应arm64-v8a

getprop ro.product.cpu.abi //打印架构字符串

#### 重启os

 am restart //不影响调试

#### **查找文件**

busybox find . -name filename

 

####**抓取日志**

adb pull /data/misc/bwlog/

 

####**查看当前占用**

Lsof | grep 路径

 

#### **查看settings 属性**

Settings.System.**getString**(context.getContentResolver(), CustomViewUtils.**NAME_BW_THEME_COLOR**);

settings get SYSTEM bw_theme_color

settings get system bw_current_source_name

#### **查看文件大小**

 busybox du -h -d 1

####设置屏幕旋转

adb shell content insert --uri content://settings/system --bind name:s:user_rotation --bind value:i:1 i后面取值(0，1，2，3)



####应用冷启动脚本

```shell
$ for i in `seq 1 100`
> do 
>   adb shell am force-stop com.android.samples.mytest
>   sleep 1
>   adb shell am start-activity -W -n com.android.samples.mytest/.MainActivity | grep "TotalTime" | cut -d ' ' -f 2
> done
```

#### 模拟发送广播

adb shell am broadcast -a com.android.action.xx --es test_string "this is test string" --ei test_int 100 --ez test_boolean true



```java
//模拟发送告警
adb shell am broadcast -a com.bw.intent.action.RDS_PTY_ALARM --ez bw.intent.extra.RDS_PTY_ALARM true
```

#### 模拟发送服务

am startservice -a hide_warn com.bw.traffic/.TrafficAlarmService

#### monkey

monkey -p com.bw.mediaplayer --ignore-crashes --ignore-timeouts --ignore-native-crashes --pct-touch 50 -s 1 -v -v --throttle 300 1000000 2>>/sdcard/monkey/error.txt  1>>/sdcard/monkey/info.txt

#  **python**

使用镜像 

pip install -i https://pypi.tuna.tsinghua.edu.cn/simple (xxx)

# linux

## 1. 查找文件名