### 第三方音乐服务设计概要

1. 功能

   列表

   播放

   登录/三方登录

   支付

2. **设计总架构**

    <img src="D:\资料\long\boke\Hexo-Blog\source\_posts\车机\喜马拉雅设计概要.assets\image-20210311192931748.png" alt="image-20210311192931748" style="zoom: 80%;" />

   

3. 服务端

   3.1 核心类

   * BaseMusicService 用于构建MediaBrowser体系

   * BasePlaybackManager 

     1. 通过MediaSession接收客户端传输事件

     2. 管理播放队列
     3. 登录
     4. ...

4. 客户端

   

待办:

喜马拉雅需要API请求登录, 暂未做本地缓存

分页列表缓存何时清除